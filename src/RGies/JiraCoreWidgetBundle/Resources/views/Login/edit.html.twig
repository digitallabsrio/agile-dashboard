{% extends "MetricsBundle::layout.html.twig" %}

{% block content -%}
    <div class="container">
        <div class="page-header">
            <h1>
                <img src="{{ asset("bundles/jiracorewidget/images/jira.png") }}" width="50px" />
                Login Credentials
            </h1>

            <p>
                <i class="fa fa-info-circle"></i>
                Please insert here the Atlassian JIRA Login credentials.
                You can use an existing user account but recommend is to create a new dedicated account.
                Please make sure that the used JIRA account has the needed access rights to get the required project data.<br/>
                If you use JIRA Cloud the typical host url schema follows the rule http://&lt;company_name&gt;.atlassian.net.
            </p>
        </div>

        {{ form(form) }}

        <div class="form-group">
            <div class="control">
                <button id="save" type="submit" onclick="formSave()" class="btn btn-primary pull-right">
                    <i class="fa fa-check"></i> Save
                </button>
                <span class="pull-right">&nbsp;&nbsp;&nbsp;</span>
                <button type="button" onclick="location.href='{{ path('provider') }}';" class="btn btn-default pull-right">
                    <i class="fa fa-times-circle"></i> Cancel
                </button>
            </div>
        </div>
    </div>
{% endblock %}

{% block js -%}
    <script type="text/javascript">
        function formSave()
        {
            var form = $("#create-form");

            if (form.validate())
            {
                form.submit();
            }
        }

        $("#create-form").validate();
    </script>
{% endblock %}
